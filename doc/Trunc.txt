NAME

        use Beyonwiz::Recording::Trunc;

SYNOPSIS

    Provides access to the Beyonwiz recording trunc file. The trunc file is
    used to describe exactly which parts of the 0000, 0001, etc. files are
    included in the viewable recording.

CONSTANTS

    "TRUNC"
        The trunc url path component for the Beyonwiz ("trunc").

    "WMMETA"
        The wmmeta url path component for the Beyonwiz ("wmmeta").

METHODS

    "Beyonwiz::Recording::Trunc->new($name)"
        Create a new Beyonwiz recording file index object. $name is the
        default name of the recording (usually the name in the Beyonwiz
        recording index, see

    "$t->name([$val]);"
        Returns (sets) the default recording name.

    "$t->fileName([$val]);"
        Returns (sets) the name of the trunc file.

    "$t->entries([$val]);"
        Returns (sets) the array reference containing the
        "Beyonwiz::Recording::TruncEntry" objects in for the recording.

    "$t->nentries;"
        Returns the number of entries in "$t->entries".

    "$t->size;"
        Returns the size of the last decoded trunc file.

    "$t->recordingSize;"
        Returns the sum of all the *size* entries in the
        "Beyonwiz::Recording::TruncEntry" objects in for the recording.

    "$t->valid;"
        Returns true if the last "$i->load;" succeeded.

    "$t->decode($hdr_data);"
        Load the contents of $t by decoding the "trunc" file data in
        $hdr_data.

    "$t->truncStart($offset)"
        Return the location of the logical "offset" (counting from 0 at the
        start of the recording) as a (*truncIndex*, *fileOffset*) pair
        indicating which "Beyonwiz::Recording::TruncEntry" contains the
        position and the corresponding offset into the file.

    "$t->makeFileTrunc;"
        Return a new "Beyonwiz::Recording::HTTPTrunc" with a single
        "Beyonwiz::Recording::TruncEntry" for each file to be downloaded.
        The chunk file sizes and offsets are adjusted to have a single trunc
        representing the whole file. The "wizOffset" values are not
        particularly meaningful.

    "$t->fileTruncFromDir;"
        Return a new "Beyonwiz::Recording::FileTrunc" that reflect the files
        in the the directory pointed to by "$t->path([$val])".

PREREQUISITES

    Uses packages: "Beyonwiz::Recording::TruncEntry", "Beyonwiz::Utils",
    "File::Basename", "LWP::Simple", "URI", "URI::Escape",
    "File::Spec::Functions".

BUGS

    Uses "bignum" for 64-bit integers, even when the underlying Perl
    integers are 64 bits.

    Uses a fixed value for the path name of the index, rather than deriving
    it from *locationURL* in "Beyonwiz::WizPnP".

